@model ExaminationSystem.DAL.Models.Question

@{
    ViewData["Title"] = "Question Details";
}

<h1>@ViewData["Title"]</h1>

<div>
    <h4>Question Information</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-3">
            @Html.DisplayNameFor(model => model.QuestionText)
        </dt>
        <dd class="col-sm-9">
            @Html.DisplayFor(model => model.QuestionText)
        </dd>

        <dt class="col-sm-3">
            @Html.DisplayNameFor(model => model.Mark)
        </dt>
        <dd class="col-sm-9">
            @Html.DisplayFor(model => model.Mark)
        </dd>

        <dt class="col-sm-3">
            @Html.DisplayNameFor(model => model.QuestionType)
        </dt>
        <dd class="col-sm-9">
            @Html.DisplayFor(model => model.QuestionType)
        </dd>

        <dt class="col-sm-3">
            @Html.DisplayNameFor(model => model.Exam)
        </dt>
        <dd class="col-sm-9">
            @(Model.Exam?.Title ?? "N/A")
        </dd>

        @if (Model.QuestionType == "TF")
        {
            <dt class="col-sm-3">
                Correct Answer (T/F)
            </dt>
            <dd class="col-sm-9">
                @(Model.CorrectTFAnswer.HasValue ? Model.CorrectTFAnswer.Value.ToString() : "N/A")
            </dd>
        }
        else if (Model.QuestionType == "MCQ")
        {
            <dt class="col-sm-3">
                Choices
            </dt>
            <dd class="col-sm-9">
                @if (Model.Choices != null && Model.Choices.Any())
                {
                    <ul class="list-unstyled">
                        @foreach (var choice in Model.Choices)
                        {
                            <li>
                                @if (choice.IsCorrect)
                                {
                                    <i class="fas fa-check-circle text-success me-1"></i> @* Correct answer indicator *@
                                }
                                else
                                {
                                    <i class="far fa-circle text-muted me-1"></i> @* Incorrect answer indicator *@
                                }
                                @choice.ChoiceText
                            </li>
                        }
                    </ul>
                }
                else
                {
                    <span>No choices defined.</span>
                }
            </dd>
        }
    </dl>
</div>
<div class="mt-3">
    <a asp-action="Edit" asp-route-id="@Model.ID" class="btn btn-primary">Edit</a>
    @* Link back to the specific exam's question list *@
    <a asp-action="Index" asp-route-examId="@Model.ExamID" class="btn btn-secondary">Back to Question List</a>
</div>

@* Optional: Include Font Awesome if using icons *@
@* <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" /> *@